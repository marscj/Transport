(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a2324d3e"],{"7b9e":function(t,e,a){"use strict";var i=a("c0a7"),r=a.n(i);r.a},c0a7:function(t,e,a){},ebb9:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vs-card",{staticClass:"data-list-container",attrs:{id:"data-list-thumb-view"}},[a("price-table")],1)},r=[],s=a("ef0d"),n={components:{PriceTable:s["a"]}},o=n,c=a("2877"),l=Object(c["a"])(o,i,r,!1,null,null,null);e["default"]=l.exports},ef0d:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-list-container",attrs:{id:"data-list-thumb-view"}},[t.showSidebar?a("data-view-sidebar",{attrs:{isSidebarActive:t.addNewDataSidebar,data:t.sidebarData},on:{closeSidebar:t.toggleDataSidebar}}):t._e(),a("s-table",{ref:"table",staticClass:"p-4",attrs:{columns:t.columns,data:t.loadData,showPagination:!1,rowKey:function(t){return t.id}},scopedSlots:t._u([{key:"itinerary",fn:function(e,i){return[e?a("a",{on:{click:function(e){return t.editData(i)}}},[t._v(t._s(e.name))]):t._e()]}},{key:"category",fn:function(e,i){return[e?a("a",{on:{click:function(e){return t.editData(i)}}},[t._v(t._s(e.name))]):t._e()]}},{key:"price",fn:function(e,i){return[e?a("a",{on:{click:function(e){return t.editData(i)}}},[t._v(t._s(e)+" AED")]):t._e()]}}])})],1)},r=[],s=(a("a9e3"),a("e64c")),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vs-sidebar",{staticClass:"add-new-data-sidebar items-no-padding",attrs:{"click-not-close":"","position-right":"",parent:"body","default-index":"1",color:"primary",spacer:""},model:{value:t.isSidebarActiveLocal,callback:function(e){t.isSidebarActiveLocal=e},expression:"isSidebarActiveLocal"}},[a("div",{staticClass:"mt-6 flex items-center justify-between px-6"},[a("h4",[t._v(t._s(t.isEdit?"ADD NEW":"UPDATE")+" ITEM")]),a("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(e){e.stopPropagation(),t.isSidebarActiveLocal=!1}}})],1),a("vs-divider",{staticClass:"mb-0"}),a("VuePerfectScrollbar",{staticClass:"scroll-area--data-list-add-new",attrs:{settings:t.settings}},[a("div",{staticClass:"p-6"},[a("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){e.validate,e.dirty;return[a("validation-provider",{attrs:{name:"price",rules:"required|min_value:0"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[a("a-form-item",{attrs:{label:"Price"}},[a("a-input-number",{staticClass:"w-full",attrs:{step:.5},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1),a("span",[t._v(t._s(i[0]))])]}}],null,!0)}),a("validation-provider",{attrs:{name:"non_field_errors"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[a("span",[t._v(t._s(i[0]))])]}}],null,!0)})]}}])})],1)]),a("div",{staticClass:"flex flex-wrap items-center p-6",attrs:{slot:"footer"},slot:"footer"},[a("vs-button",{staticClass:"mr-6",on:{click:t.submit}},[t._v("Submit")]),a("vs-button",{attrs:{type:"border",color:"danger"},on:{click:function(e){t.isSidebarActiveLocal=!1}}},[t._v("Cancel")])],1)],1)},o=[],c=(a("4fad"),a("9d63")),l=a.n(c),d={components:{VuePerfectScrollbar:l.a},props:{isSidebarActive:{type:Boolean,required:!0},data:{type:Object,default:function(){}}},watch:{isSidebarActive:function(t){t&&(this.form=Object.assign({},this.data))}},computed:{isSidebarActiveLocal:{get:function(){return this.isSidebarActive},set:function(t){t||this.$emit("closeSidebar")}},isEdit:function(){return 0===Object.entries(this.data).length}},data:function(){return{form:{id:void 0,name:""},settings:{maxScrollbarLength:60,wheelSpeed:.6}}},methods:{submit:function(){var t=this;this.isEdit?Object(s["c"])(this.form).then((function(){t.isSidebarActiveLocal=!1})).catch((function(e){e.response&&t.$refs.observer.setErrors(e.response.data.result)})):Object(s["p"])(this.form.id,this.form).then((function(){t.isSidebarActiveLocal=!1})).catch((function(e){e.response&&t.$refs.observer.setErrors(e.response.data.result)}))}}},u=d,f=(a("7b9e"),a("2877")),b=Object(f["a"])(u,n,o,!1,null,"744beac4",null),p=b.exports,v=a("e1f9"),m={name:"PriceTable",components:{DataViewSidebar:p,STable:v["a"]},props:{category:{type:Number,default:void 0},showSidebar:{type:Boolean,default:!0}},watch:{category:function(){this.$refs.table.refresh()}},data:function(){var t=this;return{columns:[{title:"Itinerary",dataIndex:"itinerary",scopedSlots:{customRender:"itinerary"}},{title:"Category",dataIndex:"category",scopedSlots:{customRender:"category"}},{title:"Price",dataIndex:"price",scopedSlots:{customRender:"price"}}],addNewDataSidebar:!1,sidebarData:{},loadData:function(e){return Object(s["j"])(Object.assign(e,{category:t.category})).then((function(t){return t.result}))}}},methods:{addNewData:function(){this.sidebarData={},this.toggleDataSidebar(!0)},editData:function(t){this.$auth("price.change_price")&&(this.sidebarData=t,this.toggleDataSidebar(!0))},toggleDataSidebar:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.addNewDataSidebar=t,t||this.$refs.table.refresh()}}},h=m,S=Object(f["a"])(h,i,r,!1,null,null,null);e["a"]=S.exports}}]);
//# sourceMappingURL=chunk-a2324d3e.b00d8a39.js.map